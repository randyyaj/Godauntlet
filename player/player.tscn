[gd_scene load_steps=10 format=3 uid="uid://c68w2sftvjej0"]

[ext_resource type="Script" path="res://player/player.gd" id="1_vlum0"]
[ext_resource type="PackedScene" uid="uid://bp0x0ktit7xmg" path="res://player/projectile.tscn" id="2_l4mr6"]
[ext_resource type="Texture2D" uid="uid://d3vwukin2la7a" path="res://player/hero_basic.png" id="3_nbe8u"]
[ext_resource type="PackedScene" uid="uid://ggw2l8ut2p7" path="res://HUD/player_hud.tscn" id="4_b4ivl"]
[ext_resource type="PackedScene" uid="uid://fjkb6pqxc6lq" path="res://ui/Menus/pause_menu.tscn" id="5_hvjw8"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lbedo"]
size = Vector2(10, 14)

[sub_resource type="CircleShape2D" id="CircleShape2D_vp0hc"]
radius = 128.0

[sub_resource type="CircleShape2D" id="CircleShape2D_pbruv"]
radius = 9.05539

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dn6wj"]

[node name="Player" type="CharacterBody2D" groups=["Player"]]
y_sort_enabled = true
collision_layer = 2
collision_mask = 189
script = ExtResource("1_vlum0")
fire_rate = 0.35
projectile = ExtResource("2_l4mr6")

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(3, 3)

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("3_nbe8u")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_lbedo")

[node name="HealthTimer" type="Timer" parent="."]
autostart = true

[node name="CanFireTimer" type="Timer" parent="."]

[node name="BombExplosionArea" type="Area2D" parent="."]
collision_mask = 8

[node name="BombCollisionShape" type="CollisionShape2D" parent="BombExplosionArea"]
shape = SubResource("CircleShape2D_vp0hc")

[node name="DoorDetector" type="Area2D" parent="." groups=["Player"]]

[node name="DoorDetectorCollisionShape" type="CollisionShape2D" parent="DoorDetector"]
shape = SubResource("CircleShape2D_pbruv")

[node name="AttackArea" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 8

[node name="AttackAreaCollision" type="CollisionShape2D" parent="AttackArea"]
shape = SubResource("RectangleShape2D_dn6wj")

[node name="AttackTimer" type="Timer" parent="."]
wait_time = 0.5

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(3, 3)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="PlayerHUD" parent="CanvasLayer" instance=ExtResource("4_b4ivl")]
player_node_path = NodePath("../..")

[node name="PauseMenu" parent="CanvasLayer" instance=ExtResource("5_hvjw8")]

[connection signal="timeout" from="HealthTimer" to="." method="_on_health_timer_timeout"]
[connection signal="timeout" from="CanFireTimer" to="." method="_on_can_fire_timer_timeout"]
[connection signal="body_entered" from="DoorDetector" to="." method="_on_door_detector_body_entered"]
[connection signal="body_entered" from="AttackArea" to="." method="_on_attack_area_body_entered"]
[connection signal="timeout" from="AttackTimer" to="." method="_on_attack_timer_timeout"]
